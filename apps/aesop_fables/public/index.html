<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title></title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!--   <link rel="manifest" href="site.webmanifest"> -->
  
<!--   <link rel="stylesheet" href="css/normalize.css"> -->
<!--   <link rel="stylesheet" href="css/main.css"> -->
  <style>
    .button {
      margin: 1rem 0;
      padding: 0.5rem;
      background: none;
      border: 2px solid #0074D9;
      border-radius: 6px;
      font-size: 1rem;
      color: #0074D9;
      cursor: pointer;
    }
    .button:disabled {
      cursor: not-allowed;
      opacity: 0.25
    }
  </style>
</head>

<body>
  <h1>Aesop's Fables generated by Neural Network</h1>
  
  Enter some text here; use a-z, A-Z, comma, full stop, question mark; max 60 characters including space
  <br>
  <input id="input" style="margin: 1rem 0; padding: 0.5rem; font-size:1.5rem" size="60">
  <span id="charCount" style="display: block; color: #999; margin-top: -0.75rem">Count: 0</span>
  <button
    id="makeStory"
    class="button"
  >Make a story</button>
  
</body>
<script>
  const input = document.getElementById('input')
  const charCount = document.getElementById('charCount')
  const button_makeStory = document.getElementById('makeStory')
  button_makeStory.disabled = true

  input.addEventListener('input', function (e) {
    const l = e.currentTarget.value.length
    charCount.textContent = 'Count: ' + l
    button_makeStory.disabled = !l || l > 60
  })
  
  button_makeStory.addEventListener('click', function (e) {
    fetch('/predict')
  })
</script>

</html>
